import{R as x,b as Kn,j as gt,c as qn,B as Yn,d as Zn,u as Jn,r as Qn,P as Xn}from"./index-d35596f6.js";import{a as Te,T as je,b as to,d as Ue}from"./PostList.module-5aabd323.js";const me=0,Bt=1,Wt=2,mn=4;function hn(t,e){return n=>t(e(n))}function eo(t,e){return e(t)}function pn(t,e){return n=>t(e,n)}function Ke(t,e){return()=>t(e)}function he(t,e){return e(t),t}function J(...t){return t}function no(t){t()}function qe(t){return()=>t}function oo(...t){return()=>{t.map(no)}}function Be(t){return t!==void 0}function Dt(){}function j(t,e){return t(Bt,e)}function G(t,e){t(me,e)}function Le(t){t(Wt)}function ft(t){return t(mn)}function B(t,e){return j(t,pn(e,me))}function Rt(t,e){const n=t(Bt,o=>{n(),e(o)});return n}function D(){const t=[];return(e,n)=>{switch(e){case Wt:t.splice(0,t.length);return;case Bt:return t.push(n),()=>{const o=t.indexOf(n);o>-1&&t.splice(o,1)};case me:t.slice().forEach(o=>{o(n)});return;default:throw new Error(`unrecognized action ${e}`)}}}function C(t){let e=t;const n=D();return(o,r)=>{switch(o){case Bt:r(e);break;case me:e=r;break;case mn:return e}return n(o,r)}}function ro(t){let e,n;const o=()=>e&&e();return function(r,s){switch(r){case Bt:return s?n===s?void 0:(o(),n=s,e=j(t,s),e):(o(),Dt);case Wt:o(),n=null;return;default:throw new Error(`unrecognized action ${r}`)}}}function dt(t){return he(D(),e=>B(t,e))}function st(t,e){return he(C(e),n=>B(t,n))}function so(...t){return e=>t.reduceRight(eo,e)}function I(t,...e){const n=so(...e);return(o,r)=>{switch(o){case Bt:return j(t,n(r));case Wt:Le(t);return}}}function gn(t,e){return t===e}function Z(t=gn){let e;return n=>o=>{t(e,o)||(e=o,n(o))}}function N(t){return e=>n=>{t(n)&&e(n)}}function b(t){return e=>hn(e,t)}function yt(t){return e=>()=>e(t)}function Ct(t,e){return n=>o=>n(e=t(e,o))}function At(t){return e=>n=>{t>0?t--:e(n)}}function Ht(t){let e=null,n;return o=>r=>{e=r,!n&&(n=setTimeout(()=>{n=void 0,o(e)},t))}}function Ye(t){let e,n;return o=>r=>{e=r,n&&clearTimeout(n),n=setTimeout(()=>{o(e)},t)}}function V(...t){const e=new Array(t.length);let n=0,o=null;const r=Math.pow(2,t.length)-1;return t.forEach((s,i)=>{const l=Math.pow(2,i);j(s,c=>{const f=n;n=n|l,e[i]=c,f!==r&&n===r&&o&&(o(),o=null)})}),s=>i=>{const l=()=>s([i].concat(e));n===r?l():o=l}}function Ze(...t){return function(e,n){switch(e){case Bt:return oo(...t.map(o=>j(o,n)));case Wt:return;default:throw new Error(`unrecognized action ${e}`)}}}function k(t,e=gn){return I(t,Z(e))}function nt(...t){const e=D(),n=new Array(t.length);let o=0;const r=Math.pow(2,t.length)-1;return t.forEach((s,i)=>{const l=Math.pow(2,i);j(s,c=>{n[i]=c,o=o|l,o===r&&G(e,n)})}),function(s,i){switch(s){case Bt:return o===r&&i(n),j(e,i);case Wt:return Le(e);default:throw new Error(`unrecognized action ${s}`)}}}function $(t,e=[],{singleton:n}={singleton:!0}){return{id:io(),constructor:t,dependencies:e,singleton:n}}const io=()=>Symbol();function lo(t){const e=new Map,n=({id:o,constructor:r,dependencies:s,singleton:i})=>{if(i&&e.has(o))return e.get(o);const l=r(s.map(c=>n(c)));return i&&e.set(o,l),l};return n(t)}function co(t,e){const n={},o={};let r=0;const s=t.length;for(;r<s;)o[t[r]]=1,r+=1;for(const i in e)o.hasOwnProperty(i)||(n[i]=e[i]);return n}const se=typeof document<"u"?x.useLayoutEffect:x.useEffect;function In(t,e,n){const o=Object.keys(e.required||{}),r=Object.keys(e.optional||{}),s=Object.keys(e.methods||{}),i=Object.keys(e.events||{}),l=x.createContext({});function c(h,v){h.propsReady&&G(h.propsReady,!1);for(const d of o){const m=h[e.required[d]];G(m,v[d])}for(const d of r)if(d in v){const m=h[e.optional[d]];G(m,v[d])}h.propsReady&&G(h.propsReady,!0)}function f(h){return s.reduce((v,d)=>(v[d]=m=>{const T=h[e.methods[d]];G(T,m)},v),{})}function u(h){return i.reduce((v,d)=>(v[d]=ro(h[e.events[d]]),v),{})}return{Component:x.forwardRef((h,v)=>{const{children:d,...m}=h,[T]=x.useState(()=>he(lo(t),p=>c(p,m))),[O]=x.useState(Ke(u,T));return se(()=>{for(const p of i)p in m&&j(O[p],m[p]);return()=>{Object.values(O).map(Le)}},[m,O,T]),se(()=>{c(T,m)}),x.useImperativeHandle(v,qe(f(T))),x.createElement(l.Provider,{value:T},n?x.createElement(n,co([...o,...r,...i],m),d):d)}),usePublisher:h=>x.useCallback(pn(G,x.useContext(l)[h]),[h]),useEmitterValue:h=>{const d=x.useContext(l)[h],[m,T]=x.useState(Ke(ft,d));return se(()=>j(d,O=>{O!==m&&T(qe(O))}),[d,m]),m},useEmitter:(h,v)=>{const m=x.useContext(l)[h];se(()=>j(m,v),[v,m])}}}const uo=typeof document<"u"?x.useLayoutEffect:x.useEffect,ao=uo;var mt=(t=>(t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.WARN=2]="WARN",t[t.ERROR=3]="ERROR",t))(mt||{});const fo={0:"debug",1:"log",2:"warn",3:"error"},mo=()=>typeof globalThis>"u"?window:globalThis,Lt=$(()=>{const t=C(3);return{log:C((n,o,r=1)=>{var s;const i=(s=mo().VIRTUOSO_LOG_LEVEL)!=null?s:ft(t);r>=i&&console[fo[r]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",n,o)}),logLevel:t}},[],{singleton:!0});function Pe(t,e=!0){const n=x.useRef(null);let o=r=>{};if(typeof ResizeObserver<"u"){const r=x.useMemo(()=>new ResizeObserver(s=>{const i=s[0].target;i.offsetParent!==null&&t(i)}),[t]);o=s=>{s&&e?(r.observe(s),n.current=s):(n.current&&r.unobserve(n.current),n.current=null)}}return{ref:n,callbackRef:o}}function Gt(t,e=!0){return Pe(t,e).callbackRef}function ho(t,e,n,o,r,s,i){const l=x.useCallback(c=>{const f=po(c.children,e,"offsetHeight",r);let u=c.parentElement;for(;!u.dataset.virtuosoScroller;)u=u.parentElement;const g=u.lastElementChild.dataset.viewportType==="window",S=i?i.scrollTop:g?window.pageYOffset||document.documentElement.scrollTop:u.scrollTop,E=i?i.scrollHeight:g?document.documentElement.scrollHeight:u.scrollHeight,R=i?i.offsetHeight:g?window.innerHeight:u.offsetHeight;o({scrollTop:Math.max(S,0),scrollHeight:E,viewportHeight:R}),s==null||s(go("row-gap",getComputedStyle(c).rowGap,r)),f!==null&&t(f)},[t,e,r,s,i,o]);return Pe(l,n)}function po(t,e,n,o){const r=t.length;if(r===0)return null;const s=[];for(let i=0;i<r;i++){const l=t.item(i);if(!l||l.dataset.index===void 0)continue;const c=parseInt(l.dataset.index),f=parseFloat(l.dataset.knownSize),u=e(l,n);if(u===0&&o("Zero-sized element, this should not happen",{child:l},mt.ERROR),u===f)continue;const g=s[s.length-1];s.length===0||g.size!==u||g.endIndex!==c-1?s.push({startIndex:c,endIndex:c,size:u}):s[s.length-1].endIndex++}return s}function go(t,e,n){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&n(`${t} was not resolved to pixel value correctly`,e,mt.WARN),e==="normal"?0:parseInt(e??"0",10)}function Ot(t,e){return Math.round(t.getBoundingClientRect()[e])}function Sn(t,e){return Math.abs(t-e)<1.01}function xn(t,e,n,o=Dt,r){const s=x.useRef(null),i=x.useRef(null),l=x.useRef(null),c=x.useCallback(g=>{const S=g.target,E=S===window||S===document,R=E?window.pageYOffset||document.documentElement.scrollTop:S.scrollTop,h=E?document.documentElement.scrollHeight:S.scrollHeight,v=E?window.innerHeight:S.offsetHeight,d=()=>{t({scrollTop:Math.max(R,0),scrollHeight:h,viewportHeight:v})};g.suppressFlushSync?d():Kn.flushSync(d),i.current!==null&&(R===i.current||R<=0||R===h-v)&&(i.current=null,e(!0),l.current&&(clearTimeout(l.current),l.current=null))},[t,e]);x.useEffect(()=>{const g=r||s.current;return o(r||s.current),c({target:g,suppressFlushSync:!0}),g.addEventListener("scroll",c,{passive:!0}),()=>{o(null),g.removeEventListener("scroll",c)}},[s,c,n,o,r]);function f(g){const S=s.current;if(!S||"offsetHeight"in S&&S.offsetHeight===0)return;const E=g.behavior==="smooth";let R,h,v;S===window?(h=Math.max(Ot(document.documentElement,"height"),document.documentElement.scrollHeight),R=window.innerHeight,v=document.documentElement.scrollTop):(h=S.scrollHeight,R=Ot(S,"height"),v=S.scrollTop);const d=h-R;if(g.top=Math.ceil(Math.max(Math.min(d,g.top),0)),Sn(R,h)||g.top===v){t({scrollTop:v,scrollHeight:h,viewportHeight:R}),E&&e(!0);return}E?(i.current=g.top,l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{l.current=null,i.current=null,e(!0)},1e3)):i.current=null,S.scrollTo(g)}function u(g){s.current.scrollBy(g)}return{scrollerRef:s,scrollByCallback:u,scrollToCallback:f}}const it=$(()=>{const t=D(),e=D(),n=C(0),o=D(),r=C(0),s=D(),i=D(),l=C(0),c=C(0),f=C(0),u=C(0),g=D(),S=D(),E=C(!1);return B(I(t,b(({scrollTop:R})=>R)),e),B(I(t,b(({scrollHeight:R})=>R)),i),B(e,r),{scrollContainerState:t,scrollTop:e,viewportHeight:s,headerHeight:l,fixedHeaderHeight:c,fixedFooterHeight:f,footerHeight:u,scrollHeight:i,smoothScrollTargetReached:o,scrollTo:g,scrollBy:S,statefulScrollTop:r,deviation:n,scrollingInProgress:E}},[],{singleton:!0}),Kt={lvl:0};function Tn(t,e,n,o=Kt,r=Kt){return{k:t,v:e,lvl:n,l:o,r}}function K(t){return t===Kt}function Mt(){return Kt}function ye(t,e){if(K(t))return Kt;const{k:n,l:o,r}=t;if(e===n){if(K(o))return r;if(K(r))return o;{const[s,i]=wn(o);return le(tt(t,{k:s,v:i,l:vn(o)}))}}else return e<n?le(tt(t,{l:ye(o,e)})):le(tt(t,{r:ye(r,e)}))}function qt(t,e){if(!K(t))return e===t.k?t.v:e<t.k?qt(t.l,e):qt(t.r,e)}function wt(t,e,n="k"){if(K(t))return[-1/0,void 0];if(Number(t[n])===e)return[t.k,t.v];if(Number(t[n])<e){const o=wt(t.r,e,n);return o[0]===-1/0?[t.k,t.v]:o}return wt(t.l,e,n)}function at(t,e,n){return K(t)?Tn(e,n,1):e===t.k?tt(t,{k:e,v:n}):e<t.k?Je(tt(t,{l:at(t.l,e,n)})):Je(tt(t,{r:at(t.r,e,n)}))}function Re(t,e,n){if(K(t))return[];const{k:o,v:r,l:s,r:i}=t;let l=[];return o>e&&(l=l.concat(Re(s,e,n))),o>=e&&o<=n&&l.push({k:o,v:r}),o<=n&&(l=l.concat(Re(i,e,n))),l}function Nt(t){return K(t)?[]:[...Nt(t.l),{k:t.k,v:t.v},...Nt(t.r)]}function wn(t){return K(t.r)?[t.k,t.v]:wn(t.r)}function vn(t){return K(t.r)?t.l:le(tt(t,{r:vn(t.r)}))}function tt(t,e){return Tn(e.k!==void 0?e.k:t.k,e.v!==void 0?e.v:t.v,e.lvl!==void 0?e.lvl:t.lvl,e.l!==void 0?e.l:t.l,e.r!==void 0?e.r:t.r)}function we(t){return K(t)||t.lvl>t.r.lvl}function Je(t){return be(En(t))}function le(t){const{l:e,r:n,lvl:o}=t;if(n.lvl>=o-1&&e.lvl>=o-1)return t;if(o>n.lvl+1){if(we(e))return En(tt(t,{lvl:o-1}));if(!K(e)&&!K(e.r))return tt(e.r,{l:tt(e,{r:e.r.l}),r:tt(t,{l:e.r.r,lvl:o-1}),lvl:o});throw new Error("Unexpected empty nodes")}else{if(we(t))return be(tt(t,{lvl:o-1}));if(!K(n)&&!K(n.l)){const r=n.l,s=we(r)?n.lvl-1:n.lvl;return tt(r,{l:tt(t,{r:r.l,lvl:o-1}),r:be(tt(n,{l:r.r,lvl:s})),lvl:r.lvl+1})}else throw new Error("Unexpected empty nodes")}}function pe(t,e,n){if(K(t))return[];const o=wt(t,e)[0];return Io(Re(t,o,n))}function Cn(t,e){const n=t.length;if(n===0)return[];let{index:o,value:r}=e(t[0]);const s=[];for(let i=1;i<n;i++){const{index:l,value:c}=e(t[i]);s.push({start:o,end:l-1,value:r}),o=l,r=c}return s.push({start:o,end:1/0,value:r}),s}function Io(t){return Cn(t,({k:e,v:n})=>({index:e,value:n}))}function be(t){const{r:e,lvl:n}=t;return!K(e)&&!K(e.r)&&e.lvl===n&&e.r.lvl===n?tt(e,{l:tt(t,{r:e.l}),lvl:n+1}):t}function En(t){const{l:e}=t;return!K(e)&&e.lvl===t.lvl?tt(e,{r:tt(t,{l:e.r})}):t}function ue(t,e,n,o=0){let r=t.length-1;for(;o<=r;){const s=Math.floor((o+r)/2),i=t[s],l=n(i,e);if(l===0)return s;if(l===-1){if(r-o<2)return s-1;r=s-1}else{if(r===o)return s;o=s+1}}throw new Error(`Failed binary finding record in array - ${t.join(",")}, searched for ${e}`)}function yn(t,e,n){return t[ue(t,e,n)]}function So(t,e,n,o){const r=ue(t,e,o),s=ue(t,n,o,r);return t.slice(r,s+1)}const ze=$(()=>({recalcInProgress:C(!1)}),[],{singleton:!0});function xo(t){const{size:e,startIndex:n,endIndex:o}=t;return r=>r.start===n&&(r.end===o||r.end===1/0)&&r.value===e}function Qe(t,e){let n=0,o=0;for(;n<t;)n+=e[o+1]-e[o]-1,o++;return o-(n===t?0:1)}function To(t,e){let n=K(t)?0:1/0;for(const o of e){const{size:r,startIndex:s,endIndex:i}=o;if(n=Math.min(n,s),K(t)){t=at(t,0,r);continue}const l=pe(t,s-1,i+1);if(l.some(xo(o)))continue;let c=!1,f=!1;for(const{start:u,end:g,value:S}of l)c?(i>=u||r===S)&&(t=ye(t,u)):(f=S!==r,c=!0),g>i&&i>=u&&S!==r&&(t=at(t,i+1,S));f&&(t=at(t,s,r))}return[t,n]}function wo(){return{offsetTree:[],sizeTree:Mt(),groupOffsetTree:Mt(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]}}function ke({index:t},e){return e===t?0:e<t?-1:1}function vo({offset:t},e){return e===t?0:e<t?-1:1}function Co(t){return{index:t.index,value:t}}function Eo(t,e,n,o=0){return o>0&&(e=Math.max(e,yn(t,o,ke).offset)),Cn(So(t,e,n,vo),Co)}function He(t,e,n,o){let r=t,s=0,i=0,l=0,c=0;if(e!==0){c=ue(r,e-1,ke),l=r[c].offset;const u=wt(n,e-1);s=u[0],i=u[1],r.length&&r[c].size===wt(n,e)[1]&&(c-=1),r=r.slice(0,c+1)}else r=[];for(const{start:f,value:u}of pe(n,e,1/0)){const g=f-s,S=g*i+l+g*o;r.push({offset:S,size:u,index:f}),s=f,l=S,i=u}return{offsetTree:r,lastIndex:s,lastOffset:l,lastSize:i}}function yo(t,[e,n,o,r]){e.length>0&&o("received item sizes",e,mt.DEBUG);const s=t.sizeTree;let i=s,l=0;if(n.length>0&&K(s)&&e.length===2){const S=e[0].size,E=e[1].size;i=n.reduce((R,h)=>at(at(R,h,S),h+1,E),i)}else[i,l]=To(i,e);if(i===s)return t;const{offsetTree:c,lastIndex:f,lastSize:u,lastOffset:g}=He(t.offsetTree,l,i,r);return{sizeTree:i,offsetTree:c,lastIndex:f,lastOffset:g,lastSize:u,groupOffsetTree:n.reduce((S,E)=>at(S,E,Yt(E,c,r)),Mt()),groupIndices:n}}function Yt(t,e,n){if(e.length===0)return 0;const{offset:o,index:r,size:s}=yn(e,t,ke),i=t-r,l=s*i+(i-1)*n+o;return l>0?l+n:l}function Ro(t){return typeof t.groupIndex<"u"}function Rn(t,e,n){if(Ro(t))return e.groupIndices[t.groupIndex]+1;{const o=t.index==="LAST"?n:t.index;let r=bn(o,e);return r=Math.max(0,r,Math.min(n,r)),r}}function bn(t,e){if(!ge(e))return t;let n=0;for(;e.groupIndices[n]<=t+n;)n++;return t+n}function ge(t){return!K(t.groupOffsetTree)}function bo(t){return Nt(t).map(({k:e,v:n},o,r)=>{const s=r[o+1],i=s?s.k-1:1/0;return{startIndex:e,endIndex:i,size:n}})}const Ho={offsetHeight:"height",offsetWidth:"width"},Et=$(([{log:t},{recalcInProgress:e}])=>{const n=D(),o=D(),r=st(o,0),s=D(),i=D(),l=C(0),c=C([]),f=C(void 0),u=C(void 0),g=C((p,a)=>Ot(p,Ho[a])),S=C(void 0),E=C(0),R=wo(),h=st(I(n,V(c,t,E),Ct(yo,R),Z()),R),v=st(I(c,Z(),Ct((p,a)=>({prev:p.current,current:a}),{prev:[],current:[]}),b(({prev:p})=>p)),[]);B(I(c,N(p=>p.length>0),V(h,E),b(([p,a,y])=>{const H=p.reduce((L,z,F)=>at(L,z,Yt(z,a.offsetTree,y)||F),Mt());return{...a,groupIndices:p,groupOffsetTree:H}})),h),B(I(o,V(h),N(([p,{lastIndex:a}])=>p<a),b(([p,{lastIndex:a,lastSize:y}])=>[{startIndex:p,endIndex:a,size:y}])),n),B(f,u);const d=st(I(f,b(p=>p===void 0)),!0);B(I(u,N(p=>p!==void 0&&K(ft(h).sizeTree)),b(p=>[{startIndex:0,endIndex:0,size:p}])),n);const m=dt(I(n,V(h),Ct(({sizes:p},[a,y])=>({changed:y!==p,sizes:y}),{changed:!1,sizes:R}),b(p=>p.changed)));j(I(l,Ct((p,a)=>({diff:p.prev-a,prev:a}),{diff:0,prev:0}),b(p=>p.diff)),p=>{const{groupIndices:a}=ft(h);if(p>0)G(e,!0),G(s,p+Qe(p,a));else if(p<0){const y=ft(v);y.length>0&&(p-=Qe(-p,y)),G(i,p)}}),j(I(l,V(t)),([p,a])=>{p<0&&a("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:l},mt.ERROR)});const T=dt(s);B(I(s,V(h),b(([p,a])=>{const y=a.groupIndices.length>0,H=[],L=a.lastSize;if(y){const z=qt(a.sizeTree,0);let F=0,W=0;for(;F<p;){const _=a.groupIndices[W],U=a.groupIndices.length===W+1?1/0:a.groupIndices[W+1]-_-1;H.push({startIndex:_,endIndex:_,size:z}),H.push({startIndex:_+1,endIndex:_+1+U-1,size:L}),W++,F+=U+1}const q=Nt(a.sizeTree);return F!==p&&q.shift(),q.reduce((_,{k:U,v:rt})=>{let ht=_.ranges;return _.prevSize!==0&&(ht=[..._.ranges,{startIndex:_.prevIndex,endIndex:U+p-1,size:_.prevSize}]),{ranges:ht,prevIndex:U+p,prevSize:rt}},{ranges:H,prevIndex:p,prevSize:0}).ranges}return Nt(a.sizeTree).reduce((z,{k:F,v:W})=>({ranges:[...z.ranges,{startIndex:z.prevIndex,endIndex:F+p-1,size:z.prevSize}],prevIndex:F+p,prevSize:W}),{ranges:[],prevIndex:0,prevSize:L}).ranges})),n);const O=dt(I(i,V(h,E),b(([p,{offsetTree:a},y])=>{const H=-p;return Yt(H,a,y)})));return B(I(i,V(h,E),b(([p,a,y])=>{if(a.groupIndices.length>0){if(K(a.sizeTree))return a;let L=Mt();const z=ft(v);let F=0,W=0,q=0;for(;F<-p;){q=z[W];const _=z[W+1]-q-1;W++,F+=_+1}if(L=Nt(a.sizeTree).reduce((_,{k:U,v:rt})=>at(_,Math.max(0,U+p),rt),L),F!==-p){const _=qt(a.sizeTree,q);L=at(L,0,_);const U=wt(a.sizeTree,-p+1)[1];L=at(L,1,U)}return{...a,sizeTree:L,...He(a.offsetTree,0,L,y)}}else{const L=Nt(a.sizeTree).reduce((z,{k:F,v:W})=>at(z,Math.max(0,F+p),W),Mt());return{...a,sizeTree:L,...He(a.offsetTree,0,L,y)}}})),h),{data:S,totalCount:o,sizeRanges:n,groupIndices:c,defaultItemSize:u,fixedItemSize:f,unshiftWith:s,shiftWith:i,shiftWithOffset:O,beforeUnshiftWith:T,firstItemIndex:l,gap:E,sizes:h,listRefresh:m,statefulTotalCount:r,trackItemSizes:d,itemSize:g}},J(Lt,ze),{singleton:!0}),Oo=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function Hn(t){const e=typeof t=="number"?{index:t}:t;return e.align||(e.align="start"),(!e.behavior||!Oo)&&(e.behavior="auto"),e.offset||(e.offset=0),e}const Qt=$(([{sizes:t,totalCount:e,listRefresh:n,gap:o},{scrollingInProgress:r,viewportHeight:s,scrollTo:i,smoothScrollTargetReached:l,headerHeight:c,footerHeight:f,fixedHeaderHeight:u,fixedFooterHeight:g},{log:S}])=>{const E=D(),R=C(0);let h=null,v=null,d=null;function m(){h&&(h(),h=null),d&&(d(),d=null),v&&(clearTimeout(v),v=null),G(r,!1)}return B(I(E,V(t,s,e,R,c,f,S),V(o,u,g),b(([[T,O,p,a,y,H,L,z],F,W,q])=>{const P=Hn(T),{align:_,behavior:U,offset:rt}=P,ht=a-1,lt=Rn(P,O,ht);let ct=Yt(lt,O.offsetTree,F)+H;_==="end"?(ct+=W+wt(O.sizeTree,lt)[1]-p+q,lt===ht&&(ct+=L)):_==="center"?ct+=(W+wt(O.sizeTree,lt)[1]-p+q)/2:ct-=y,rt&&(ct+=rt);const St=vt=>{m(),vt?(z("retrying to scroll to",{location:T},mt.DEBUG),G(E,T)):z("list did not change, scroll successful",{},mt.DEBUG)};if(m(),U==="smooth"){let vt=!1;d=j(n,$t=>{vt=vt||$t}),h=Rt(l,()=>{St(vt)})}else h=Rt(I(n,Bo(150)),St);return v=setTimeout(()=>{m()},1200),G(r,!0),z("scrolling from index to",{index:lt,top:ct,behavior:U},mt.DEBUG),{top:ct,behavior:U}})),i),{scrollToIndex:E,topListHeight:R}},J(Et,it,Lt),{singleton:!0});function Bo(t){return e=>{const n=setTimeout(()=>{e(!1)},t);return o=>{o&&(e(!0),clearTimeout(n))}}}const Zt="up",jt="down",Lo="none",Po={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},zo=0,Xt=$(([{scrollContainerState:t,scrollTop:e,viewportHeight:n,headerHeight:o,footerHeight:r,scrollBy:s}])=>{const i=C(!1),l=C(!0),c=D(),f=D(),u=C(4),g=C(zo),S=st(I(Ze(I(k(e),At(1),yt(!0)),I(k(e),At(1),yt(!1),Ye(100))),Z()),!1),E=st(I(Ze(I(s,yt(!0)),I(s,yt(!1),Ye(200))),Z()),!1);B(I(nt(k(e),k(g)),b(([m,T])=>m<=T),Z()),l),B(I(l,Ht(50)),f);const R=dt(I(nt(t,k(n),k(o),k(r),k(u)),Ct((m,[{scrollTop:T,scrollHeight:O},p,a,y,H])=>{const L=T+p-O>-H,z={viewportHeight:p,scrollTop:T,scrollHeight:O};if(L){let W,q;return T>m.state.scrollTop?(W="SCROLLED_DOWN",q=m.state.scrollTop-T):(W="SIZE_DECREASED",q=m.state.scrollTop-T||m.scrollTopDelta),{atBottom:!0,state:z,atBottomBecause:W,scrollTopDelta:q}}let F;return z.scrollHeight>m.state.scrollHeight?F="SIZE_INCREASED":p<m.state.viewportHeight?F="VIEWPORT_HEIGHT_DECREASING":T<m.state.scrollTop?F="SCROLLING_UPWARDS":F="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:F,state:z}},Po),Z((m,T)=>m&&m.atBottom===T.atBottom))),h=st(I(t,Ct((m,{scrollTop:T,scrollHeight:O,viewportHeight:p})=>{if(Sn(m.scrollHeight,O))return{scrollTop:T,scrollHeight:O,jump:0,changed:!1};{const a=O-(T+p)<1;return m.scrollTop!==T&&a?{scrollHeight:O,scrollTop:T,jump:m.scrollTop-T,changed:!0}:{scrollHeight:O,scrollTop:T,jump:0,changed:!0}}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),N(m=>m.changed),b(m=>m.jump)),0);B(I(R,b(m=>m.atBottom)),i),B(I(i,Ht(50)),c);const v=C(jt);B(I(t,b(({scrollTop:m})=>m),Z(),Ct((m,T)=>ft(E)?{direction:m.direction,prevScrollTop:T}:{direction:T<m.prevScrollTop?Zt:jt,prevScrollTop:T},{direction:jt,prevScrollTop:0}),b(m=>m.direction)),v),B(I(t,Ht(50),yt(Lo)),v);const d=C(0);return B(I(S,N(m=>!m),yt(0)),d),B(I(e,Ht(100),V(S),N(([m,T])=>!!T),Ct(([m,T],[O])=>[T,O],[0,0]),b(([m,T])=>T-m)),d),{isScrolling:S,isAtTop:l,isAtBottom:i,atBottomState:R,atTopStateChange:f,atBottomStateChange:c,scrollDirection:v,atBottomThreshold:u,atTopThreshold:g,scrollVelocity:d,lastJumpDueToItemResize:h}},J(it)),Pt=$(([{log:t}])=>{const e=C(!1),n=dt(I(e,N(o=>o),Z()));return j(e,o=>{o&&ft(t)("props updated",{},mt.DEBUG)}),{propsReady:e,didMount:n}},J(Lt),{singleton:!0});function Ne(t,e){t==0?e():requestAnimationFrame(()=>Ne(t-1,e))}function Ge(t,e){const n=e-1;return typeof t=="number"?t:t.index==="LAST"?n:t.index}const te=$(([{sizes:t,listRefresh:e,defaultItemSize:n},{scrollTop:o},{scrollToIndex:r},{didMount:s}])=>{const i=C(!0),l=C(0),c=C(!1);return B(I(s,V(l),N(([f,u])=>!!u),yt(!1)),i),j(I(nt(e,s),V(i,t,n,c),N(([[,f],u,{sizeTree:g},S,E])=>f&&(!K(g)||Be(S))&&!u&&!E),V(l)),([,f])=>{G(c,!0),Ne(3,()=>{Rt(o,()=>G(i,!0)),G(r,f)})}),{scrolledToInitialItem:i,initialTopMostItemIndex:l}},J(Et,it,Qt,Pt),{singleton:!0});function Xe(t){return t?t==="smooth"?"smooth":"auto":!1}const ko=(t,e)=>typeof t=="function"?Xe(t(e)):e&&Xe(t),No=$(([{totalCount:t,listRefresh:e},{isAtBottom:n,atBottomState:o},{scrollToIndex:r},{scrolledToInitialItem:s},{propsReady:i,didMount:l},{log:c},{scrollingInProgress:f}])=>{const u=C(!1),g=D();let S=null;function E(h){G(r,{index:"LAST",align:"end",behavior:h})}j(I(nt(I(k(t),At(1)),l),V(k(u),n,s,f),b(([[h,v],d,m,T,O])=>{let p=v&&T,a="auto";return p&&(a=ko(d,m||O),p=p&&!!a),{totalCount:h,shouldFollow:p,followOutputBehavior:a}}),N(({shouldFollow:h})=>h)),({totalCount:h,followOutputBehavior:v})=>{S&&(S(),S=null),S=Rt(e,()=>{ft(c)("following output to ",{totalCount:h},mt.DEBUG),E(v),S=null})});function R(h){const v=Rt(o,d=>{h&&!d.atBottom&&d.notAtBottomBecause==="SIZE_INCREASED"&&!S&&(ft(c)("scrolling to bottom due to increased size",{},mt.DEBUG),E("auto"))});setTimeout(v,100)}return j(I(nt(k(u),t,i),N(([h,,v])=>h&&v),Ct(({value:h},[,v])=>({refreshed:h===v,value:v}),{refreshed:!1,value:0}),N(({refreshed:h})=>h),V(u,t)),([,h])=>{R(h!==!1)}),j(g,()=>{R(ft(u)!==!1)}),j(nt(k(u),o),([h,v])=>{h&&!v.atBottom&&v.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&E("auto")}),{followOutput:u,autoscrollToBottom:g}},J(Et,Xt,Qt,te,Pt,Lt,it));function Go(t){return t.reduce((e,n)=>(e.groupIndices.push(e.totalCount),e.totalCount+=n+1,e),{totalCount:0,groupIndices:[]})}const On=$(([{totalCount:t,groupIndices:e,sizes:n},{scrollTop:o,headerHeight:r}])=>{const s=D(),i=D(),l=dt(I(s,b(Go)));return B(I(l,b(c=>c.totalCount)),t),B(I(l,b(c=>c.groupIndices)),e),B(I(nt(o,n,r),N(([c,f])=>ge(f)),b(([c,f,u])=>wt(f.groupOffsetTree,Math.max(c-u,0),"v")[0]),Z(),b(c=>[c])),i),{groupCounts:s,topItemsIndexes:i}},J(Et,it));function Jt(t,e){return!!(t&&t[0]===e[0]&&t[1]===e[1])}function Bn(t,e){return!!(t&&t.startIndex===e.startIndex&&t.endIndex===e.endIndex)}const ae="top",fe="bottom",tn="none";function en(t,e,n){return typeof t=="number"?n===Zt&&e===ae||n===jt&&e===fe?t:0:n===Zt?e===ae?t.main:t.reverse:e===fe?t.main:t.reverse}function nn(t,e){return typeof t=="number"?t:t[e]||0}const Ve=$(([{scrollTop:t,viewportHeight:e,deviation:n,headerHeight:o,fixedHeaderHeight:r}])=>{const s=D(),i=C(0),l=C(0),c=C(0),f=st(I(nt(k(t),k(e),k(o),k(s,Jt),k(c),k(i),k(r),k(n),k(l)),b(([u,g,S,[E,R],h,v,d,m,T])=>{const O=u-m,p=v+d,a=Math.max(S-O,0);let y=tn;const H=nn(T,ae),L=nn(T,fe);return E-=m,E+=S+d,R+=S+d,R-=m,E>u+p-H&&(y=Zt),R<u-a+g+L&&(y=jt),y!==tn?[Math.max(O-S-en(h,ae,y)-H,0),O-a-d+g+en(h,fe,y)+L]:null}),N(u=>u!=null),Z(Jt)),[0,0]);return{listBoundary:s,overscan:c,topListHeight:i,increaseViewportBy:l,visibleRange:f}},J(it),{singleton:!0});function Vo(t,e,n){if(ge(e)){const o=bn(t,e);return[{index:wt(e.groupOffsetTree,o)[0],size:0,offset:0},{index:o,size:0,offset:0,data:n&&n[0]}]}return[{index:t,size:0,offset:0,data:n&&n[0]}]}const ve={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function on(t,e,n){if(t.length===0)return[];if(!ge(e))return t.map(f=>({...f,index:f.index+n,originalIndex:f.index}));const o=t[0].index,r=t[t.length-1].index,s=[],i=pe(e.groupOffsetTree,o,r);let l,c=0;for(const f of t){(!l||l.end<f.index)&&(l=i.shift(),c=e.groupIndices.indexOf(l.start));let u;f.index===l.start?u={type:"group",index:c}:u={index:f.index-(c+1)+n,groupIndex:c},s.push({...u,size:f.size,offset:f.offset,originalIndex:f.index,data:f.data})}return s}function ce(t,e,n,o,r,s){const{lastSize:i,lastOffset:l,lastIndex:c}=r;let f=0,u=0;if(t.length>0){f=t[0].offset;const h=t[t.length-1];u=h.offset+h.size}const g=n-c,S=l+g*i+(g-1)*o,E=f,R=S-u;return{items:on(t,r,s),topItems:on(e,r,s),topListHeight:e.reduce((h,v)=>v.size+h,0),offsetTop:f,offsetBottom:R,top:E,bottom:u,totalCount:n,firstItemIndex:s}}function Ln(t,e,n,o,r,s){let i=0;if(n.groupIndices.length>0)for(const u of n.groupIndices){if(u-i>=t)break;i++}const l=t+i,c=Ge(e,l),f=Array.from({length:l}).map((u,g)=>({index:g+c,size:0,offset:0,data:s[g+c]}));return ce(f,[],l,r,n,o)}const Vt=$(([{sizes:t,totalCount:e,data:n,firstItemIndex:o,gap:r},s,{visibleRange:i,listBoundary:l,topListHeight:c},{scrolledToInitialItem:f,initialTopMostItemIndex:u},{topListHeight:g},S,{didMount:E},{recalcInProgress:R}])=>{const h=C([]),v=C(0),d=D();B(s.topItemsIndexes,h);const m=st(I(nt(E,R,k(i,Jt),k(e),k(t),k(u),f,k(h),k(o),k(r),n),N(([a,y,,H,,,,,,,L])=>{const z=L&&L.length!==H;return a&&!y&&!z}),b(([,,[a,y],H,L,z,F,W,q,P,_])=>{const U=L,{sizeTree:rt,offsetTree:ht}=U,lt=ft(v);if(H===0)return{...ve,totalCount:H};if(a===0&&y===0)return lt===0?{...ve,totalCount:H}:Ln(lt,z,L,q,P,_||[]);if(K(rt))return lt>0?null:ce(Vo(Ge(z,H),U,_),[],H,P,U,q);const ct=[];if(W.length>0){const zt=W[0],w=W[W.length-1];let M=0;for(const Y of pe(rt,zt,w)){const X=Y.value,ot=Math.max(Y.start,zt),xt=Math.min(Y.end,w);for(let et=ot;et<=xt;et++)ct.push({index:et,size:X,offset:M,data:_&&_[et]}),M+=X}}if(!F)return ce([],ct,H,P,U,q);const St=W.length>0?W[W.length-1]+1:0,vt=Eo(ht,a,y,St);if(vt.length===0)return null;const $t=H-1,ee=he([],zt=>{for(const w of vt){const M=w.value;let Y=M.offset,X=w.start;const ot=M.size;if(M.offset<a){X+=Math.floor((a-M.offset+P)/(ot+P));const et=X-w.start;Y+=et*ot+et*P}X<St&&(Y+=(St-X)*ot,X=St);const xt=Math.min(w.end,$t);for(let et=X;et<=xt&&!(Y>=y);et++)zt.push({index:et,size:ot,offset:Y,data:_&&_[et]}),Y+=ot+P}});return ce(ee,ct,H,P,U,q)}),N(a=>a!==null),Z()),ve);B(I(n,N(Be),b(a=>a==null?void 0:a.length)),e),B(I(m,b(a=>a.topListHeight)),g),B(g,c),B(I(m,b(a=>[a.top,a.bottom])),l),B(I(m,b(a=>a.items)),d);const T=dt(I(m,N(({items:a})=>a.length>0),V(e,n),N(([{items:a},y])=>a[a.length-1].originalIndex===y-1),b(([,a,y])=>[a-1,y]),Z(Jt),b(([a])=>a))),O=dt(I(m,Ht(200),N(({items:a,topItems:y})=>a.length>0&&a[0].originalIndex===y.length),b(({items:a})=>a[0].index),Z())),p=dt(I(m,N(({items:a})=>a.length>0),b(({items:a})=>{let y=0,H=a.length-1;for(;a[y].type==="group"&&y<H;)y++;for(;a[H].type==="group"&&H>y;)H--;return{startIndex:a[y].index,endIndex:a[H].index}}),Z(Bn)));return{listState:m,topItemsIndexes:h,endReached:T,startReached:O,rangeChanged:p,itemsRendered:d,initialItemCount:v,...S}},J(Et,On,Ve,te,Qt,Xt,Pt,ze),{singleton:!0}),Fo=$(([{sizes:t,firstItemIndex:e,data:n,gap:o},{initialTopMostItemIndex:r},{initialItemCount:s,listState:i},{didMount:l}])=>(B(I(l,V(s),N(([,c])=>c!==0),V(r,t,e,o,n),b(([[,c],f,u,g,S,E=[]])=>Ln(c,f,u,g,S,E))),i),{}),J(Et,te,Vt,Pt),{singleton:!0}),Pn=$(([{scrollVelocity:t}])=>{const e=C(!1),n=D(),o=C(!1);return B(I(t,V(o,e,n),N(([r,s])=>!!s),b(([r,s,i,l])=>{const{exit:c,enter:f}=s;if(i){if(c(r,l))return!1}else if(f(r,l))return!0;return i}),Z()),e),j(I(nt(e,t,n),V(o)),([[r,s,i],l])=>r&&l&&l.change&&l.change(s,i)),{isSeeking:e,scrollSeekConfiguration:o,scrollVelocity:t,scrollSeekRangeChanged:n}},J(Xt),{singleton:!0}),_o=$(([{topItemsIndexes:t}])=>{const e=C(0);return B(I(e,N(n=>n>0),b(n=>Array.from({length:n}).map((o,r)=>r))),t),{topItemCount:e}},J(Vt)),zn=$(([{footerHeight:t,headerHeight:e,fixedHeaderHeight:n,fixedFooterHeight:o},{listState:r}])=>{const s=D(),i=st(I(nt(t,o,e,n,r),b(([l,c,f,u,g])=>l+c+f+u+g.offsetBottom+g.bottom)),0);return B(k(i),s),{totalListHeight:i,totalListHeightChanged:s}},J(it,Vt),{singleton:!0});function kn(t){let e=!1,n;return()=>(e||(e=!0,n=t()),n)}const Mo=kn(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),Ao=$(([{scrollBy:t,scrollTop:e,deviation:n,scrollingInProgress:o},{isScrolling:r,isAtBottom:s,scrollDirection:i,lastJumpDueToItemResize:l},{listState:c},{beforeUnshiftWith:f,shiftWithOffset:u,sizes:g,gap:S},{log:E},{recalcInProgress:R}])=>{const h=dt(I(c,V(l),Ct(([,d,m,T],[{items:O,totalCount:p,bottom:a,offsetBottom:y},H])=>{const L=a+y;let z=0;return m===p&&d.length>0&&O.length>0&&(O[0].originalIndex===0&&d[0].originalIndex===0||(z=L-T,z!==0&&(z+=H))),[z,O,p,L]},[0,[],0,0]),N(([d])=>d!==0),V(e,i,o,s,E,R),N(([,d,m,T,,,O])=>!O&&!T&&d!==0&&m===Zt),b(([[d],,,,,m])=>(m("Upward scrolling compensation",{amount:d},mt.DEBUG),d))));function v(d){d>0?(G(t,{top:-d,behavior:"auto"}),G(n,0)):(G(n,0),G(t,{top:-d,behavior:"auto"}))}return j(I(h,V(n,r)),([d,m,T])=>{T&&Mo()?G(n,m-d):v(-d)}),j(I(nt(st(r,!1),n,R),N(([d,m,T])=>!d&&!T&&m!==0),b(([d,m])=>m),Ht(1)),v),B(I(u,b(d=>({top:-d}))),t),j(I(f,V(g,S),b(([d,{lastSize:m,groupIndices:T,sizeTree:O},p])=>{function a(y){return y*(m+p)}if(T.length===0)return a(d);{let y=0;const H=qt(O,0);let L=0,z=0;for(;L<d;){L++,y+=H;let F=T.length===z+1?1/0:T[z+1]-T[z]-1;L+F>d&&(y-=H,F=d-L+1),L+=F,y+=a(F),z++}return y}})),d=>{G(n,d),requestAnimationFrame(()=>{G(t,{top:d}),requestAnimationFrame(()=>{G(n,0),G(R,!1)})})}),{deviation:n}},J(it,Xt,Vt,Et,Lt,ze)),Wo=$(([{didMount:t},{scrollTo:e},{listState:n}])=>{const o=C(0);return j(I(t,V(o),N(([,r])=>r!==0),b(([,r])=>({top:r}))),r=>{Rt(I(n,At(1),N(s=>s.items.length>1)),()=>{requestAnimationFrame(()=>{G(e,r)})})}),{initialScrollTop:o}},J(Pt,it,Vt),{singleton:!0}),Do=$(([{viewportHeight:t},{totalListHeight:e}])=>{const n=C(!1),o=st(I(nt(n,t,e),N(([r])=>r),b(([,r,s])=>Math.max(0,r-s)),Ht(0),Z()),0);return{alignToBottom:n,paddingTopAddition:o}},J(it,zn),{singleton:!0}),Fe=$(([{scrollTo:t,scrollContainerState:e}])=>{const n=D(),o=D(),r=D(),s=C(!1),i=C(void 0);return B(I(nt(n,o),b(([{viewportHeight:l,scrollTop:c,scrollHeight:f},{offsetTop:u}])=>({scrollTop:Math.max(0,c-u),scrollHeight:f,viewportHeight:l}))),e),B(I(t,V(o),b(([l,{offsetTop:c}])=>({...l,top:l.top+c}))),r),{useWindowScroll:s,customScrollParent:i,windowScrollContainerState:n,windowViewportRect:o,windowScrollTo:r}},J(it)),$o=({itemTop:t,itemBottom:e,viewportTop:n,viewportBottom:o,locationParams:{behavior:r,align:s,...i}})=>t<n?{...i,behavior:r,align:s??"start"}:e>o?{...i,behavior:r,align:s??"end"}:null,jo=$(([{sizes:t,totalCount:e,gap:n},{scrollTop:o,viewportHeight:r,headerHeight:s,fixedHeaderHeight:i,fixedFooterHeight:l,scrollingInProgress:c},{scrollToIndex:f}])=>{const u=D();return B(I(u,V(t,r,e,s,i,l,o),V(n),b(([[g,S,E,R,h,v,d,m],T])=>{const{done:O,behavior:p,align:a,calculateViewLocation:y=$o,...H}=g,L=Rn(g,S,R-1),z=Yt(L,S.offsetTree,T)+h+v,F=z+wt(S.sizeTree,L)[1],W=m+v,q=m+E-d,P=y({itemTop:z,itemBottom:F,viewportTop:W,viewportBottom:q,locationParams:{behavior:p,align:a,...H}});return P?O&&Rt(I(c,N(_=>_===!1),At(ft(c)?1:2)),O):O&&O(),P}),N(g=>g!==null)),f),{scrollIntoView:u}},J(Et,it,Qt,Vt,Lt),{singleton:!0}),Uo=$(([{sizes:t,sizeRanges:e},{scrollTop:n},{initialTopMostItemIndex:o},{didMount:r},{useWindowScroll:s,windowScrollContainerState:i,windowViewportRect:l}])=>{const c=D(),f=C(void 0),u=C(null),g=C(null);return B(i,u),B(l,g),j(I(c,V(t,n,s,u,g)),([S,E,R,h,v,d])=>{const m=bo(E.sizeTree);h&&v!==null&&d!==null&&(R=v.scrollTop-d.offsetTop),S({ranges:m,scrollTop:R})}),B(I(f,N(Be),b(Ko)),o),B(I(r,V(f),N(([,S])=>S!==void 0),Z(),b(([,S])=>S.ranges)),e),{getState:c,restoreStateFrom:f}},J(Et,it,te,Pt,Fe));function Ko(t){return{offset:t.scrollTop,index:0,align:"start"}}const qo=$(([t,e,n,o,r,s,i,l,c,f])=>({...t,...e,...n,...o,...r,...s,...i,...l,...c,...f}),J(Ve,Fo,Pt,Pn,zn,Wo,Do,Fe,jo,Lt)),Yo=$(([{totalCount:t,sizeRanges:e,fixedItemSize:n,defaultItemSize:o,trackItemSizes:r,itemSize:s,data:i,firstItemIndex:l,groupIndices:c,statefulTotalCount:f,gap:u,sizes:g},{initialTopMostItemIndex:S,scrolledToInitialItem:E},R,h,v,{listState:d,topItemsIndexes:m,...T},{scrollToIndex:O},p,{topItemCount:a},{groupCounts:y},H])=>(B(T.rangeChanged,H.scrollSeekRangeChanged),B(I(H.windowViewportRect,b(L=>L.visibleHeight)),R.viewportHeight),{totalCount:t,data:i,firstItemIndex:l,sizeRanges:e,initialTopMostItemIndex:S,scrolledToInitialItem:E,topItemsIndexes:m,topItemCount:a,groupCounts:y,fixedItemHeight:n,defaultItemHeight:o,gap:u,...v,statefulTotalCount:f,listState:d,scrollToIndex:O,trackItemSizes:r,itemSize:s,groupIndices:c,...T,...H,...R,sizes:g,...h}),J(Et,te,it,Uo,No,Vt,Qt,Ao,_o,On,qo)),Ce="-webkit-sticky",rn="sticky",Nn=kn(()=>{if(typeof document>"u")return rn;const t=document.createElement("div");return t.style.position=Ce,t.style.position===Ce?Ce:rn});function Gn(t,e){const n=x.useRef(null),o=x.useCallback(l=>{if(l===null||!l.offsetParent)return;const c=l.getBoundingClientRect(),f=c.width;let u,g;if(e){const S=e.getBoundingClientRect(),E=c.top-S.top;u=S.height-Math.max(0,E),g=E+e.scrollTop}else u=window.innerHeight-Math.max(0,c.top),g=c.top+window.pageYOffset;n.current={offsetTop:g,visibleHeight:u,visibleWidth:f},t(n.current)},[t,e]),{callbackRef:r,ref:s}=Pe(o),i=x.useCallback(()=>{o(s.current)},[o,s]);return x.useEffect(()=>{if(e){e.addEventListener("scroll",i);const l=new ResizeObserver(i);return l.observe(e),()=>{e.removeEventListener("scroll",i),l.unobserve(e)}}else return window.addEventListener("scroll",i),window.addEventListener("resize",i),()=>{window.removeEventListener("scroll",i),window.removeEventListener("resize",i)}},[i,e]),r}const Vn=x.createContext(void 0),Fn=x.createContext(void 0);function _n(t){return t}const Zo=$(()=>{const t=C(c=>`Item ${c}`),e=C(null),n=C(c=>`Group ${c}`),o=C({}),r=C(_n),s=C("div"),i=C(Dt),l=(c,f=null)=>st(I(o,b(u=>u[c]),Z()),f);return{context:e,itemContent:t,groupContent:n,components:o,computeItemKey:r,headerFooterTag:s,scrollerRef:i,FooterComponent:l("Footer"),HeaderComponent:l("Header"),TopItemListComponent:l("TopItemList"),ListComponent:l("List","div"),ItemComponent:l("Item","div"),GroupComponent:l("Group","div"),ScrollerComponent:l("Scroller","div"),EmptyPlaceholder:l("EmptyPlaceholder"),ScrollSeekPlaceholder:l("ScrollSeekPlaceholder")}}),Jo=$(([t,e])=>({...t,...e}),J(Yo,Zo)),Qo=({height:t})=>x.createElement("div",{style:{height:t}}),Xo={position:Nn(),zIndex:1,overflowAnchor:"none"},tr={overflowAnchor:"none"},sn=x.memo(function({showTopList:e=!1}){const n=A("listState"),o=It("sizeRanges"),r=A("useWindowScroll"),s=A("customScrollParent"),i=It("windowScrollContainerState"),l=It("scrollContainerState"),c=s||r?i:l,f=A("itemContent"),u=A("context"),g=A("groupContent"),S=A("trackItemSizes"),E=A("itemSize"),R=A("log"),h=It("gap"),{callbackRef:v}=ho(o,E,S,e?Dt:c,R,h,s),[d,m]=x.useState(0);_e("deviation",P=>{d!==P&&m(P)});const T=A("EmptyPlaceholder"),O=A("ScrollSeekPlaceholder")||Qo,p=A("ListComponent"),a=A("ItemComponent"),y=A("GroupComponent"),H=A("computeItemKey"),L=A("isSeeking"),z=A("groupIndices").length>0,F=A("paddingTopAddition"),W=A("scrolledToInitialItem"),q=e?{}:{boxSizing:"border-box",paddingTop:n.offsetTop+F,paddingBottom:n.offsetBottom,marginTop:d,...W?{}:{visibility:"hidden"}};return!e&&n.totalCount===0&&T?x.createElement(T,ut(T,u)):x.createElement(p,{...ut(p,u),ref:v,style:q,"data-test-id":e?"virtuoso-top-item-list":"virtuoso-item-list"},(e?n.topItems:n.items).map(P=>{const _=P.originalIndex,U=H(_+n.firstItemIndex,P.data,u);return L?x.createElement(O,{...ut(O,u),key:U,index:P.index,height:P.size,type:P.type||"item",...P.type==="group"?{}:{groupIndex:P.groupIndex}}):P.type==="group"?x.createElement(y,{...ut(y,u),key:U,"data-index":_,"data-known-size":P.size,"data-item-index":P.index,style:Xo},g(P.index,u)):x.createElement(a,{...ut(a,u),...or(a,P.data),key:U,"data-index":_,"data-known-size":P.size,"data-item-index":P.index,"data-item-group-index":P.groupIndex,style:tr},z?f(P.index,P.groupIndex,P.data,u):f(P.index,P.data,u))}))}),er={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},Ie={width:"100%",height:"100%",position:"absolute",top:0},nr={width:"100%",position:Nn(),top:0,zIndex:1};function ut(t,e){if(typeof t!="string")return{context:e}}function or(t,e){return{item:typeof t=="string"?void 0:e}}const rr=x.memo(function(){const e=A("HeaderComponent"),n=It("headerHeight"),o=A("headerFooterTag"),r=Gt(i=>n(Ot(i,"height"))),s=A("context");return e?x.createElement(o,{ref:r},x.createElement(e,ut(e,s))):null}),sr=x.memo(function(){const e=A("FooterComponent"),n=It("footerHeight"),o=A("headerFooterTag"),r=Gt(i=>n(Ot(i,"height"))),s=A("context");return e?x.createElement(o,{ref:r},x.createElement(e,ut(e,s))):null});function Mn({usePublisher:t,useEmitter:e,useEmitterValue:n}){return x.memo(function({style:s,children:i,...l}){const c=t("scrollContainerState"),f=n("ScrollerComponent"),u=t("smoothScrollTargetReached"),g=n("scrollerRef"),S=n("context"),{scrollerRef:E,scrollByCallback:R,scrollToCallback:h}=xn(c,u,f,g);return e("scrollTo",h),e("scrollBy",R),x.createElement(f,{ref:E,style:{...er,...s},"data-test-id":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0,...l,...ut(f,S)},i)})}function An({usePublisher:t,useEmitter:e,useEmitterValue:n}){return x.memo(function({style:s,children:i,...l}){const c=t("windowScrollContainerState"),f=n("ScrollerComponent"),u=t("smoothScrollTargetReached"),g=n("totalListHeight"),S=n("deviation"),E=n("customScrollParent"),R=n("context"),{scrollerRef:h,scrollByCallback:v,scrollToCallback:d}=xn(c,u,f,Dt,E);return ao(()=>(h.current=E||window,()=>{h.current=null}),[h,E]),e("windowScrollTo",d),e("scrollBy",v),x.createElement(f,{style:{position:"relative",...s,...g!==0?{height:g+S}:{}},"data-virtuoso-scroller":!0,...l,...ut(f,R)},i)})}const ir=({children:t})=>{const e=x.useContext(Vn),n=It("viewportHeight"),o=It("fixedItemHeight"),r=Gt(hn(n,s=>Ot(s,"height")));return x.useEffect(()=>{e&&(n(e.viewportHeight),o(e.itemHeight))},[e,n,o]),x.createElement("div",{style:Ie,ref:r,"data-viewport-type":"element"},t)},lr=({children:t})=>{const e=x.useContext(Vn),n=It("windowViewportRect"),o=It("fixedItemHeight"),r=A("customScrollParent"),s=Gn(n,r);return x.useEffect(()=>{e&&(o(e.itemHeight),n({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:100}))},[e,n,o]),x.createElement("div",{ref:s,style:Ie,"data-viewport-type":"window"},t)},cr=({children:t})=>{const e=A("TopItemListComponent"),n=A("headerHeight"),o={...nr,marginTop:`${n}px`},r=A("context");return x.createElement(e||"div",{style:o,context:r},t)},ur=x.memo(function(e){const n=A("useWindowScroll"),o=A("topItemsIndexes").length>0,r=A("customScrollParent"),s=r||n?dr:fr,i=r||n?lr:ir;return x.createElement(s,{...e},o&&x.createElement(cr,null,x.createElement(sn,{showTopList:!0})),x.createElement(i,null,x.createElement(rr,null),x.createElement(sn,null),x.createElement(sr,null)))}),{Component:ar,usePublisher:It,useEmitterValue:A,useEmitter:_e}=In(Jo,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},ur),fr=Mn({usePublisher:It,useEmitterValue:A,useEmitter:_e}),dr=An({usePublisher:It,useEmitterValue:A,useEmitter:_e}),mr=ar,ln={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},hr={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:cn,ceil:un,floor:de,min:Ee,max:Ut}=Math;function pr(t){return{...hr,items:t}}function an(t,e,n){return Array.from({length:e-t+1}).map((o,r)=>{const s=n===null?null:n[r+t];return{index:r+t,data:s}})}function gr(t,e){return t&&t.column===e.column&&t.row===e.row}function ie(t,e){return t&&t.width===e.width&&t.height===e.height}const Ir=$(([{overscan:t,visibleRange:e,listBoundary:n},{scrollTop:o,viewportHeight:r,scrollBy:s,scrollTo:i,smoothScrollTargetReached:l,scrollContainerState:c,footerHeight:f,headerHeight:u},g,S,{propsReady:E,didMount:R},{windowViewportRect:h,useWindowScroll:v,customScrollParent:d,windowScrollContainerState:m,windowScrollTo:T},O])=>{const p=C(0),a=C(0),y=C(ln),H=C({height:0,width:0}),L=C({height:0,width:0}),z=D(),F=D(),W=C(0),q=C(null),P=C({row:0,column:0}),_=D(),U=D(),rt=C(!1),ht=C(0),lt=C(!0),ct=C(!1);j(I(R,V(ht),N(([w,M])=>!!M)),()=>{G(lt,!1),G(a,0)}),j(I(nt(R,lt,L,H,ht,ct),N(([w,M,Y,X,,ot])=>w&&!M&&Y.height!==0&&X.height!==0&&!ot)),([,,,,w])=>{G(ct,!0),Ne(1,()=>{G(z,w)}),Rt(I(o),()=>{G(n,[0,0]),G(lt,!0)})}),B(I(U,N(w=>w!=null&&w.scrollTop>0),yt(0)),a),j(I(R,V(U),N(([,w])=>w!=null)),([,w])=>{w&&(G(H,w.viewport),G(L,w==null?void 0:w.item),G(P,w.gap),w.scrollTop>0&&(G(rt,!0),Rt(I(o,At(1)),M=>{G(rt,!1)}),G(i,{top:w.scrollTop})))}),B(I(H,b(({height:w})=>w)),r),B(I(nt(k(H,ie),k(L,ie),k(P,(w,M)=>w&&w.column===M.column&&w.row===M.row),k(o)),b(([w,M,Y,X])=>({viewport:w,item:M,gap:Y,scrollTop:X}))),_),B(I(nt(k(p),e,k(P,gr),k(L,ie),k(H,ie),k(q),k(a),k(rt),k(lt),k(ht)),N(([,,,,,,,w])=>!w),b(([w,[M,Y],X,ot,xt,et,Ft,,ne,bt])=>{const{row:pt,column:$n}=X,{height:oe,width:Se}=ot,{width:Me}=xt;if(Ft===0&&(w===0||Me===0))return ln;if(Se===0){const xe=Ge(bt,w),Un=xe===0?Math.max(Ft-1,0):xe;return pr(an(xe,Un,et))}const re=Wn(Me,Se,$n);let _t,kt;ne?M===0&&Y===0&&Ft>0?(_t=0,kt=Ft-1):(_t=re*de((M+pt)/(oe+pt)),kt=re*un((Y+pt)/(oe+pt))-1,kt=Ee(w-1,Ut(kt,re-1)),_t=Ee(kt,Ut(0,_t))):(_t=0,kt=-1);const Ae=an(_t,kt,et),{top:We,bottom:De}=fn(xt,X,ot,Ae),$e=un(w/re),jn=$e*oe+($e-1)*pt-De;return{items:Ae,offsetTop:We,offsetBottom:jn,top:We,bottom:De,itemHeight:oe,itemWidth:Se}})),y),B(I(q,N(w=>w!==null),b(w=>w.length)),p),B(I(nt(H,L,y,P),N(([w,M,{items:Y}])=>Y.length>0&&M.height!==0&&w.height!==0),b(([w,M,{items:Y},X])=>{const{top:ot,bottom:xt}=fn(w,X,M,Y);return[ot,xt]}),Z(Jt)),n);const St=C(!1);B(I(o,V(St),b(([w,M])=>M||w!==0)),St);const vt=dt(I(k(y),N(({items:w})=>w.length>0),V(p,St),N(([{items:w},M,Y])=>Y&&w[w.length-1].index===M-1),b(([,w])=>w-1),Z())),$t=dt(I(k(y),N(({items:w})=>w.length>0&&w[0].index===0),yt(0),Z())),ee=dt(I(k(y),V(rt),N(([{items:w},M])=>w.length>0&&!M),b(([{items:w}])=>({startIndex:w[0].index,endIndex:w[w.length-1].index})),Z(Bn),Ht(0)));B(ee,S.scrollSeekRangeChanged),B(I(z,V(H,L,p,P),b(([w,M,Y,X,ot])=>{const xt=Hn(w),{align:et,behavior:Ft,offset:ne}=xt;let bt=xt.index;bt==="LAST"&&(bt=X-1),bt=Ut(0,bt,Ee(X-1,bt));let pt=Oe(M,ot,Y,bt);return et==="end"?pt=cn(pt-M.height+Y.height):et==="center"&&(pt=cn(pt-M.height/2+Y.height/2)),ne&&(pt+=ne),{top:pt,behavior:Ft}})),i);const zt=st(I(y,b(w=>w.offsetBottom+w.bottom)),0);return B(I(h,b(w=>({width:w.visibleWidth,height:w.visibleHeight}))),H),{data:q,totalCount:p,viewportDimensions:H,itemDimensions:L,scrollTop:o,scrollHeight:F,overscan:t,scrollBy:s,scrollTo:i,scrollToIndex:z,smoothScrollTargetReached:l,windowViewportRect:h,windowScrollTo:T,useWindowScroll:v,customScrollParent:d,windowScrollContainerState:m,deviation:W,scrollContainerState:c,footerHeight:f,headerHeight:u,initialItemCount:a,gap:P,restoreStateFrom:U,...S,initialTopMostItemIndex:ht,gridState:y,totalListHeight:zt,...g,startReached:$t,endReached:vt,rangeChanged:ee,stateChanged:_,propsReady:E,stateRestoreInProgress:rt,...O}},J(Ve,it,Xt,Pn,Pt,Fe,Lt));function fn(t,e,n,o){const{height:r}=n;if(r===void 0||o.length===0)return{top:0,bottom:0};const s=Oe(t,e,n,o[0].index),i=Oe(t,e,n,o[o.length-1].index)+r;return{top:s,bottom:i}}function Oe(t,e,n,o){const r=Wn(t.width,n.width,e.column),s=de(o/r),i=s*n.height+Ut(0,s-1)*e.row;return i>0?i+e.row:i}function Wn(t,e,n){return Ut(1,de((t+n)/(de(e)+n)))}const Sr=$(()=>{const t=C(f=>`Item ${f}`),e=C({}),n=C(null),o=C("virtuoso-grid-item"),r=C("virtuoso-grid-list"),s=C(_n),i=C("div"),l=C(Dt),c=(f,u=null)=>st(I(e,b(g=>g[f]),Z()),u);return{context:n,itemContent:t,components:e,computeItemKey:s,itemClassName:o,listClassName:r,headerFooterTag:i,scrollerRef:l,FooterComponent:c("Footer"),HeaderComponent:c("Header"),ListComponent:c("List","div"),ItemComponent:c("Item","div"),ScrollerComponent:c("Scroller","div"),ScrollSeekPlaceholder:c("ScrollSeekPlaceholder","div")}}),xr=$(([t,e])=>({...t,...e}),J(Ir,Sr)),Tr=x.memo(function(){const e=Q("gridState"),n=Q("listClassName"),o=Q("itemClassName"),r=Q("itemContent"),s=Q("computeItemKey"),i=Q("isSeeking"),l=Tt("scrollHeight"),c=Q("ItemComponent"),f=Q("ListComponent"),u=Q("ScrollSeekPlaceholder"),g=Q("context"),S=Tt("itemDimensions"),E=Tt("gap"),R=Q("log"),h=Q("stateRestoreInProgress"),v=Gt(d=>{const m=d.parentElement.parentElement.scrollHeight;l(m);const T=d.firstChild;if(T){const{width:O,height:p}=T.getBoundingClientRect();S({width:O,height:p})}E({row:dn("row-gap",getComputedStyle(d).rowGap,R),column:dn("column-gap",getComputedStyle(d).columnGap,R)})});return h?null:x.createElement(f,{ref:v,className:n,...ut(f,g),style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom},"data-test-id":"virtuoso-item-list"},e.items.map(d=>{const m=s(d.index,d.data,g);return i?x.createElement(u,{key:m,...ut(u,g),index:d.index,height:e.itemHeight,width:e.itemWidth}):x.createElement(c,{...ut(c,g),className:o,"data-index":d.index,key:m},r(d.index,d.data,g))}))}),wr=x.memo(function(){const e=Q("HeaderComponent"),n=Tt("headerHeight"),o=Q("headerFooterTag"),r=Gt(i=>n(Ot(i,"height"))),s=Q("context");return e?x.createElement(o,{ref:r},x.createElement(e,ut(e,s))):null}),vr=x.memo(function(){const e=Q("FooterComponent"),n=Tt("footerHeight"),o=Q("headerFooterTag"),r=Gt(i=>n(Ot(i,"height"))),s=Q("context");return e?x.createElement(o,{ref:r},x.createElement(e,ut(e,s))):null}),Cr=({children:t})=>{const e=x.useContext(Fn),n=Tt("itemDimensions"),o=Tt("viewportDimensions"),r=Gt(s=>{o(s.getBoundingClientRect())});return x.useEffect(()=>{e&&(o({height:e.viewportHeight,width:e.viewportWidth}),n({height:e.itemHeight,width:e.itemWidth}))},[e,o,n]),x.createElement("div",{style:Ie,ref:r},t)},Er=({children:t})=>{const e=x.useContext(Fn),n=Tt("windowViewportRect"),o=Tt("itemDimensions"),r=Q("customScrollParent"),s=Gn(n,r);return x.useEffect(()=>{e&&(o({height:e.itemHeight,width:e.itemWidth}),n({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:e.viewportWidth}))},[e,n,o]),x.createElement("div",{ref:s,style:Ie},t)},yr=x.memo(function({...e}){const n=Q("useWindowScroll"),o=Q("customScrollParent"),r=o||n?br:Rr,s=o||n?Er:Cr;return x.createElement(r,{...e},x.createElement(s,null,x.createElement(wr,null),x.createElement(Tr,null),x.createElement(vr,null)))}),{Component:zr,usePublisher:Tt,useEmitterValue:Q,useEmitter:Dn}=In(xr,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged"}},yr),Rr=Mn({usePublisher:Tt,useEmitterValue:Q,useEmitter:Dn}),br=An({usePublisher:Tt,useEmitterValue:Q,useEmitter:Dn});function dn(t,e,n){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&n(`${t} was not resolved to pixel value correctly`,e,mt.WARN),e==="normal"?0:parseInt(e??"0",10)}const Hr=t=>{const{post:e,className:n,navigate:o}=t,r=s=>{o(Zn(s))};return gt.jsxs("div",{className:qn(n,Te.Post),children:[gt.jsx(je,{className:Te.PostTitle,text:`${e.id}. ${e.title}`,size:"l"}),gt.jsx(je,{className:Te.PostBody,text:e.body}),gt.jsx(Yn,{onClick:()=>r(e.id),children:"Просмотр"})]},e.id)},Or=()=>{const t=Jn(),[e,n]=Qn.useState(1),{data:o,error:r,isLoading:s}=to({limit:10,page:e}),{posts:i,totalCount:l}={...o};if(r)return gt.jsx("div",{children:"ERROR WHEN LOADING POSTS"});if(!s&&!(i!=null&&i.length))return gt.jsx("div",{children:"POSTS NOT FOUND"});const c=()=>{!s&&((i==null?void 0:i.length)||0)<(l||0)&&n(f=>f+1)};return gt.jsxs("div",{className:Ue.PostListWrapper,children:[gt.jsx(mr,{useWindowScroll:!0,data:i,totalCount:l,endReached:c,itemContent:(f,u)=>gt.jsx(Hr,{navigate:t,post:u})}),s&&gt.jsx("div",{className:Ue.Loader,children:"Loading posts..."})]})},kr=()=>gt.jsx(Xn,{children:gt.jsx(Or,{})});export{kr as default};
